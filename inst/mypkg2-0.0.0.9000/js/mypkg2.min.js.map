{"version":3,"sources":["0"],"names":["$","document","ready","config","find","JSON","parse","html","deferredPrompt","app","Framework7","root","name","version","theme","notification","title","closeTimeout","touch","tapHold","taphold","clicks","externalLinks","methods","toggleDarkTheme","this","toggleClass","serviceWorker","path","scope","window","location","pathname","installToast","toast","create","position","text","on","e","preventDefault","originalEvent","open","utils","nextTick","close","prompt","userChoice","then","result","console","log","views","opened","dialog","alert","hasOwnProperty","colorCSS","colorThemeCSSProperties","color","prop","appendTo","filled","dark"],"mappings":"AAAAA,EAAGC,UAAWC,OAAM,WAEnB,IAAIC,EAASH,EAAEC,UAAUG,KAAK,0BAC9BD,EAASE,KAAKC,MAAMH,EAAOI,QAG3B,IAqCKC,EArCDC,EAAM,IAAIC,WAAW,CAEtBC,KAAM,OAENC,KAAM,SACNC,QAASV,EAAOU,QAEhBC,MAAOX,EAAOW,MACdC,aAAc,CACZC,MAAO,SACPC,aAAc,KAEhBC,MAAO,CACLC,QAAShB,EAAOiB,SAElBC,OAAQ,CACNC,cAAe,KAEjBC,QAAS,CACPC,gBAAiB,WACJC,KACMzB,EAAE,QACb0B,YAAY,gBAGtBC,cAAe,CACbC,KAAM,oBACNC,MAAOC,OAAOC,SAASC,YAKvBC,EAAexB,EAAIyB,MAAMC,OAAO,CAClCC,SAAU,SACVC,KAAM,yFAKRrC,EAAE8B,QAAQQ,GAAG,sBAAwBC,IAEnCA,EAAEC,iBAEFhC,EAAiB+B,EAAEE,cAEnBR,EAAaS,SAMfjC,EAAIkC,MAAMC,UAAS,WACjB5C,EAAE,mBAAmBsC,GAAG,SAAS,WAE/BL,EAAaY,QACRrC,IAKLA,EAAesC,SAEftC,EAAeuC,WAAWC,KAAMC,IAC9BC,QAAQC,IAAI,KAAM,aAAcF,GAGhCzC,EAAiB,aAGpB,KAGYC,EAAI2C,MAAMjB,OAAO,cAGb1B,EAAIM,aAAaoB,OAAO,CACzCE,KAAM,sBACNC,GAAI,CACFe,OAAQ,WACNH,QAAQC,IAAI,2BAGfT,OAeH,GAZAjC,EAAIkC,MAAMC,UAAS,WACEnC,EAAIM,aAAaoB,OAAO,CACzCE,KAAM,oBACLK,SACF,KAGH1C,EAAE,aAAasC,GAAG,WAAW,WAC3B7B,EAAI6C,OAAOC,MAAM,sBAIfpD,EAAOqD,eAAe,SAAU,CAClC,IAAIC,EAAWhD,EAAIkC,MAAMe,wBAAwBvD,EAAOwD,OACxD3D,EAAE,WACC4D,KAAK,OAAQ,YACbrD,KAAK,sCACgBkD,EAAS,uDACLA,EAAS,6DACPA,EAAS,8DACVA,EAAS,sCAEnCI,SAAS,QAIT1D,EAAOqD,eAAe,YAAWrD,EAAO2D,QAAS,GA+CtD9D,EAAE,WACC4D,KAAK,OAAQ,YACbrD,KAAK,0hDACLsD,SAAS,QAGP1D,EAAOqD,eAAe,UAASrD,EAAO4D,MAAO,GAC9C5D,EAAO4D,MACTtD,EAAIc,QAAQC","file":"mypkg2.min.js","sourceRoot":"../../mypkg2-build","sourcesContent":["$( document ).ready(function() {\n // collect all data elements stored in body\n var config = $(document).find(\"script[data-for='app']\");\n config = JSON.parse(config.html());\n\n // create app instance\n var app = new Framework7({\n    // App root element\n    root: '#app',\n    // App Name\n    name: 'My App',\n    version: config.version,\n    // other options\n    theme: config.theme,\n    notification: {\n      title: 'My App',\n      closeTimeout: 3000,\n    },\n    touch: {\n      tapHold: config.taphold,\n    },\n    clicks: {\n      externalLinks: 'a',\n    },\n    methods: {\n      toggleDarkTheme: function () {\n        var self = this;\n        var $html = self.$('html');\n        $html.toggleClass('theme-dark');\n      }\n    },\n    serviceWorker: {\n      path: 'service-worker.js',\n      scope: window.location.pathname\n    },\n  });\n\n  // Create custom install UI\n  var installToast = app.toast.create({\n    position: 'center',\n    text: '<button id=\"install-button\" class=\"toast-button button color-green\">Install</button>',\n  });\n\n  var deferredPrompt;\n  // Handle install event\n  $(window).on('beforeinstallprompt', (e) => {\n    // Prevent Chrome 67 and earlier from automatically showing the prompt\n    e.preventDefault();\n    // Stash the event so it can be triggered later.\n    deferredPrompt = e.originalEvent;\n    // Show install trigger\n    installToast.open();\n  });\n\n  // Installation must be done by a user gesture!\n  // close toast whenever a choice is made ... Give time\n  // to the toast to be created before event registration.\n  app.utils.nextTick(function() {\n    $('#install-button').on('click', function() {\n      // close install toast\n      installToast.close();\n      if (!deferredPrompt) {\n        // The deferred prompt isn't available.\n        return;\n      }\n      // Show the install prompt.\n      deferredPrompt.prompt();\n      // Log the result\n      deferredPrompt.userChoice.then((result) => {\n        console.log('üëç', 'userChoice', result);\n        // Reset the deferred prompt variable, since\n        // prompt() can only be called once.\n        deferredPrompt = null;\n      });\n    });\n  }, 500);\n\n  // init main view\n  var mainView = app.views.create('.view-main');\n\n\n  var notification = app.notification.create({\n    text: 'Hello, how are you?',\n    on: {\n      opened: function () {\n        console.log('Notification opened');\n      }\n    }\n  }).open();\n\n  // equivalent to setTimeout ...\n  app.utils.nextTick(function() {\n    var otherMessage = app.notification.create({\n      text: 'You look great!'\n    }).open();\n  }, 2000);\n\n  // taphold test\n  $('#mybutton').on('taphold', function () {\n    app.dialog.alert('Tap hold fired!');\n  });\n\n  // Set color theme\n  if (config.hasOwnProperty('color')) {\n    var colorCSS = app.utils.colorThemeCSSProperties(config.color);\n    $('<style>')\n      .prop('type', 'text/css')\n      .html(`:root {\n        --f7-theme-color: ${colorCSS[\"--f7-theme-color\"]};\n        --f7-theme-color-rgb: ${colorCSS[\"--f7-theme-color-rgb\"]};\n        --f7-theme-color-shade: ${colorCSS[\"--f7-theme-color-shade\"]};\n        --f7-theme-color-tint: ${colorCSS[\"--f7-theme-color-tint\"]};\n      }`)\n      .appendTo(\"head\");\n  }\n\n  // Filled theme\n  if (!config.hasOwnProperty('filled')) config.filled = false;\n  var filledCSS = `\n    :root,\n    :root.theme-dark,\n    :root .theme-dark {\n      --f7-bars-bg-color: var(--f7-theme-color);\n      --f7-bars-bg-color-rgb: var(--f7-theme-color-rgb);\n      --f7-bars-translucent-opacity: 0.9;\n      --f7-bars-text-color: #fff;\n      --f7-bars-link-color: #fff;\n      --f7-navbar-subtitle-text-color: rgba(255,255,255,0.85);\n      --f7-bars-border-color: transparent;\n      --f7-tabbar-link-active-color: #fff;\n      --f7-tabbar-link-inactive-color: rgba(255,255,255,0.54);\n      --f7-sheet-border-color: transparent;\n      --f7-tabbar-link-active-border-color: #fff;\n    }\n    .appbar,\n    .navbar,\n    .toolbar,\n    .subnavbar,\n    .calendar-header,\n    .calendar-footer {\n      --f7-touch-ripple-color: var(--f7-touch-ripple-white);\n      --f7-link-highlight-color: var(--f7-link-highlight-white);\n      --f7-button-text-color: #fff;\n      --f7-button-pressed-bg-color: rgba(255,255,255,0.1);\n    }\n    .navbar-large-transparent,\n    .navbar-large.navbar-transparent {\n      --f7-navbar-large-title-text-color: #000;\n\n      --r: 0;\n      --g: 122;\n      --b: 255;\n      --progress: var(--f7-navbar-large-collapse-progress);\n      --f7-bars-link-color: rgb(\n        calc(var(--r) + (255 - var(--r)) * var(--progress)),\n        calc(var(--g) + (255 - var(--g)) * var(--progress)),\n        calc(var(--b) + (255 - var(--b)) * var(--progress))\n      );\n    }\n    .theme-dark .navbar-large-transparent,\n    .theme-dark .navbar-large.navbar-transparent {\n      --f7-navbar-large-title-text-color: #fff;\n  }`;\n\n  $('<style>')\n    .prop('type', 'text/css')\n    .html(`${filledCSS}`)\n    .appendTo(\"head\");\n\n  // dark mode\n  if (!config.hasOwnProperty('dark')) config.dark = false;\n  if (config.dark) {\n    app.methods.toggleDarkTheme();\n  }\n});"]}
